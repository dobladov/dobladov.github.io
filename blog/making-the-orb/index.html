<!DOCTYPE html><html lang="en" data-astro-cid-colb5upu><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/orb512.png"><meta name="generator" content="Astro v3.0.10"><link rel="manifest" href="/manifest.webmanifest"><meta http-equiv="content-language" content="en"><link rel="alternate" type="application/rss+xml" title="RSS feed" href="/rss.xml"><link rel="alternate" type="application/feed+json" title="JSON feed" href="/feed.json"><!-- Canonical URL --><link rel="canonical" href="https://dobla.do/blog/making-the-orb/"><link rel="sitemap" href="/sitemap-index.xml"><!-- Primary Meta Tags --><title>Making the Orb - Daniel Doblado</title><meta name="title" content="Making the Orb"><meta name="description" content="How the interactive orb in my site was made."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://dobla.do/blog/making-the-orb/"><meta property="og:title" content="Making the Orb"><meta property="og:description" content="How the interactive orb in my site was made."><meta property="og:image" content="https://dobla.do/orb512.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://dobla.do/blog/making-the-orb/"><meta property="twitter:title" content="Making the Orb"><meta property="twitter:description" content="How the interactive orb in my site was made."><meta property="twitter:image" content="https://dobla.do/orb512.png"><style type="text/css">article{margin:0 auto;max-width:46rem}article p{margin-bottom:2em}@media screen and (min-width: 468px){article{margin-top:2rem}}.toArticle{position:fixed;top:-100%;left:50%;transform:translate(-50%);transition:top .3s ease-in-out;padding:0 1rem}.toArticle:focus{top:1%}#title{text-align:left}.date{text-align:right;font-style:italic}.description{font-size:2rem;line-height:110%;text-align:center}@keyframes adjust-progressbar{0%{height:0}to{height:100%}}aside:before,aside:after{content:"";position:absolute;top:0;left:0;width:.25rem;height:100%;background:var(--text);border-radius:.25rem}@supports (animation-timeline: scroll(block root)){aside:after{background:var(--accent);animation:adjust-progressbar;animation-timeline:scroll(block root);animation-duration:auto}}aside{display:none;position:fixed;left:1rem;top:50%;max-width:15rem;transform:translateY(-50%);max-height:50vh;padding-left:1rem;padding-right:1rem}aside ul{list-style:none;margin:0;padding:0}aside a{text-overflow:ellipsis;display:inline-block;text-decoration:none;transition:transform .2s ease-out;transform-origin:left;line-height:1;padding-bottom:.5rem;color:var(--text)}aside a.active{color:var(--accent)}aside a:hover{transform:scale(1.1);color:var(--accent)}pre{margin-bottom:2rem}@media screen and (min-width: 992px){img,pre{--space: 8rem;width:calc(100% + var(--space));position:relative;left:calc(var(--space) / -2);max-width:calc(100% + var(--space))!important}#title{--space: 5rem;width:calc(100% + var(--space));position:relative;left:calc(var(--space) / -2);font-size:4rem}}@media screen and (min-width: 1300px){aside{display:block}}summary{cursor:pointer}.details{font-family:Courier New,monospace;padding-top:1rem}#metadata{display:flex;flex-direction:column;justify-content:space-between;font-size:.8rem}.tags{display:flex;flex-wrap:wrap;column-gap:.5rem;justify-content:flex-end}.metaSection{gap:1.5rem;display:flex;justify-content:space-between;border-top:1px solid var(--text);padding-top:.2rem;padding-bottom:.2rem}.centered{padding-top:1rem}.correctLink{margin-top:1.5rem}@media print{article{max-width:210mm;width:210mm}.toArticle,.date,.correctLink,details{display:none}}
:root{--background: rgb(24, 24, 27);--accent: rgb(250, 250, 250);--text: rgb(161, 161, 170);--link: rgb(255, 99,71);--paddingSides: 2rem;--transparentBackground: rgb(24, 24, 27, .4) }html{scroll-behavior:smooth;scrollbar-gutter:stable}body{font-family:Trebuchet MS,sans-serif;margin:0;padding:0;text-align:left;word-wrap:break-word;overflow-wrap:break-word;color:var(--text);line-height:1.7;background-color:var(--background);display:flex;flex-direction:column;min-height:100vh}::selection{color:var(--accent);background:rgb(255,99,71,.8)}h1,h2,h3,h4,h5,h6{margin:0 0 .5rem;line-height:1.2;color:var(--accent)}h1{font-size:2.5em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}strong,b{color:var(--accent);font-weight:700}a{color:var(--accent);position:relative;text-decoration:none;background:linear-gradient(0deg,var(--link),var(--link)) no-repeat right bottom / 0 var(--bg-h);transition:background-size .35s;--bg-h: 100%;padding-bottom:2px;--bg-h: 2px}a:hover{background-size:100% var(--bg-h);background-position-x:left}p{margin-bottom:1em;color:var(--text)}textarea{width:100%;font-size:16px}input{font-size:16px}table{width:100%}img{max-width:100%;height:auto;border-radius:8px}code{padding:2px 5px;border-radius:2px;color:#9ecbff;border:1px solid #9ecbff;background:#24292f}pre{padding:1.5em;border-radius:8px}pre>code{all:unset}blockquote{border-left:4px solid var(--accent);padding:0 0 0 20px;margin:0;font-size:1.333em}hr{border:none;border-top:1px solid rgb(229,233,240)}.centered{text-align:center}@media screen and (min-width: 468px){body{--paddingSides: 4rem}h1{font-size:3.052em}}@media print{*{-webkit-transition:none!important;transition:none!important}body{--background: white;--text: black;--accent: charcoal}}a[data-astro-cid-eimmu3lg]{color:var(--text)}a[data-astro-cid-eimmu3lg].active{color:var(--accent);transform:scale(1.01);text-decoration-color:var(--accent)}.pattern[data-astro-cid-pj7xj6mf]{--fill: rgba(255, 255, 255, .15);position:absolute;top:0;left:0;width:100%;height:35vh;background-size:12px 12px;-webkit-mask-image:radial-gradient(at top center,var(--background) 45%,transparent 70%);mask-image:radial-gradient(at top center,var(--background) 45%,transparent 70%);background-image:radial-gradient(var(--fill) 1px,transparent 0);pointer-events:none;z-index:-1}.bottom[data-astro-cid-pj7xj6mf]{top:auto;bottom:0;-webkit-mask-image:radial-gradient(at bottom center,var(--background) 45%,transparent 70%);mask-image:radial-gradient(at bottom center,var(--background) 45%,transparent 70%)}header[data-astro-cid-3ef6ksr2]{margin:0;padding:0 var(--paddingSides);padding-top:2rem;z-index:1}h1[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{color:var(--accent);text-decoration:none}h1[data-astro-cid-3ef6ksr2]{margin:0;font-size:3em;text-align:center;font-weight:100}nav[data-astro-cid-3ef6ksr2]{display:flex;align-items:center;justify-content:space-between;flex-direction:column;gap:1.5rem;align-items:stretch}.internalLinks[data-astro-cid-3ef6ksr2]{font-size:1.3em;display:flex;justify-content:center;align-items:center;gap:.8rem}@media screen and (min-width: 768px){h1[data-astro-cid-3ef6ksr2]{font-size:3em}nav[data-astro-cid-3ef6ksr2]{flex-direction:row}.internalLinks[data-astro-cid-3ef6ksr2]{flex-wrap:wrap}}svg[data-astro-cid-3ef6ksr2]{width:1rem;fill:var(--text)}@media print{header[data-astro-cid-3ef6ksr2]{display:none}}footer[data-astro-cid-sz7xmlte]{position:relative;flex-wrap:wrap;padding-left:var(--paddingSides);padding-right:var(--paddingSides);padding-bottom:2rem;display:flex;justify-content:space-evenly;align-items:center;gap:1em;font-size:1.3rem;font-weight:600;z-index:2;text-shadow:1px 1px 1px var(--background)}@media screen and (min-width: 768px){footer[data-astro-cid-sz7xmlte]{justify-content:center}}@media print{footer[data-astro-cid-sz7xmlte]{display:none}}main[data-astro-cid-colb5upu]{flex:1}section[data-astro-cid-colb5upu]{padding-top:2rem;padding-bottom:2rem;padding-left:var(--paddingSides);padding-right:var(--paddingSides)}
</style><script type="module" src="/_astro/hoisted.335e4b07.js"></script><style type="text/css">.youtubeVideo[data-astro-cid-nwzt3kg3]{padding-bottom:2rem}
</style></head><body data-js="false" data-astro-cid-colb5upu><a class="toArticle" href="#article">To the article</a><header data-astro-cid-3ef6ksr2><nav data-astro-cid-3ef6ksr2><h1 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Daniel Doblado</a></h1><div class="internalLinks" data-astro-cid-3ef6ksr2><a href="/blog" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg>Blog</a><a href="/projects" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg>Projects</a><a href="/tags" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg>Tags</a><a href="/rss.xml" title="RSS" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg><svg xml:space="preserve" viewBox="0 0 82.459 82.347" data-astro-cid-3ef6ksr2 astro-icon="rss"><g transform="translate(-10.112 -9.668)"><circle cx="21.243" cy="80.884" r="11.131"/><path d="M18.229 40.126a7.626 7.626 0 1 0 0 15.253c15.917 0 28.865 12.95 28.865 28.865a7.626 7.626 0 0 0 7.628 7.627 7.627 7.627 0 0 0 7.627-7.627c0-24.326-19.793-44.118-44.12-44.118z"/><path d="M17.997 9.668a7.628 7.628 0 0 0 0 15.254c32.708.001 59.32 26.613 59.32 59.322a7.627 7.627 0 1 0 15.254 0c0-41.118-33.453-74.573-74.574-74.576z"/></g></svg></a><!-- <ThemeToggle /> --></div></nav><div class="pattern" data-astro-cid-pj7xj6mf></div></header><main data-astro-cid-colb5upu><section data-astro-cid-colb5upu><article id="article"><header><h1 id="title">Making the Orb</h1><div class="date">3 min read — <time datetime="2023-08-19T00:00:00.000Z">Aug 19, 2023</time></div></header><aside><ul><li><a title="Navigate to the start of the article" href="#title">Start</a></li><li><a href="#introduction">Introduction</a></li><li><a href="#implementation">Implementation</a></li><li><a href="#tweaks">Tweaks</a></li><li><a href="#inspiration">Inspiration</a></li><li><a href="#final-touches">Final touches</a></li><li><a id="metadataLink" title="Navigate to the end of the article" href="#metadata">Metadata</a></li></ul></aside><p class="description">How the interactive orb in my site was made.</p><h2 id="introduction">Introduction<a aria-hidden="true" tabindex="-1" href="#introduction"><span class="icon icon-link"></span></a></h2>
<p>Inspired by sites  like <a href="https://oimo.io/" rel="nofollow" target="_blank">Oimo</a> I wanted to have one interactive element, ideally something that doesn’t get in the way and makes the main page standout while not being too resource intense.</p>
<p>I played with some other ideas like noise backgrounds, generating a map that constantly changes, <a href="https://en.wikipedia.org/wiki/Rorschach_test" rel="nofollow" target="_blank">Rorschach patterns</a>, floating particles, but none of them looked good enough (I’m not a designer) or felt more special than a background.</p>
<video width="400" autoplay loop style="display:flex;margin:0 auto"><source src="/_astro/orb.f580f550.webm" type="video/webm"/></video>
<br/>
<h2 id="implementation">Implementation<a aria-hidden="true" tabindex="-1" href="#implementation"><span class="icon icon-link"></span></a></h2>
<p>Then I saw this wonderful video from <a href="https://www.youtube.com/@BarneyCodes" rel="nofollow" target="_blank">Barney Codes</a> and I loved how the flow field looked; He did a wonderful explanation and re-creating it was a breeze, a channel totally worth subscribing.</p>
<script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.4.0/lite-youtube.js"></script><div class="youtubeVideo" data-astro-cid-nwzt3kg3><lite-youtube videoid="sZBfLgfsvSk" videotitle="Easy Perlin Noise Flow Fields" autoLoad="true" data-astro-cid-nwzt3kg3><a class="lite-youtube-fallback" href="https://www.youtube.com/watch?v=sZBfLgfsvSk" data-astro-cid-nwzt3kg3>Watch on YouTube: Easy Perlin Noise Flow Fields</a></lite-youtube></div>
<h2 id="tweaks">Tweaks<a aria-hidden="true" tabindex="-1" href="#tweaks"><span class="icon icon-link"></span></a></h2>
<p><a href="https://p5js.org/" rel="nofollow" target="_blank">p5</a> can be a bit of a heavy library and it’s global nature makes it not ideal for a final implementation, I ported the code to be mostly vanilla <abbr title="JavaScript">js</abbr> with the exception of the <a href="https://github.com/josephg/noisejs" rel="nofollow" target="_blank">perlin noise</a>, the author of the library has a good article of how it works, <a href="https://joeiddon.github.io/projects/javascript/perlin.html" rel="nofollow" target="_blank">“Creating perlin noise in JS”</a>.</p>
<p class="codepen" data-height="300" data-theme-id="dark" data-default-tab="js,result" data-slug-hash="dyQBGMG" data-preview="true" data-user="dobladov" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;"><span>See the Pen <a href="https://codepen.io/dobladov/pen/dyQBGMG">
Flow Field with chromatic aberration</a> by DobladoV (<a href="https://codepen.io/dobladov">@dobladov</a>)
on <a href="https://codepen.io">CodePen</a>.</span></p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
<p>One of the ideas I had in mind for the site theme was using <a href="https://en.wikipedia.org/wiki/Chromatic_aberration" rel="nofollow" target="_blank">chromatic aberration</a> for some elements, adding it to the flow field really makes it pop just by displacing the particles in red, green and blue; At this point it looked good, but it had some problems, making it such a huge background element requires many particles, this can be an intensive task so if I could make it smaller.</p>
<h2 id="inspiration">Inspiration<a aria-hidden="true" tabindex="-1" href="#inspiration"><span class="icon icon-link"></span></a></h2>
<p>The idea of making it an orb was inspired by this <a href="https://twitter.com/wiz_mud/status/1687956508531679232" rel="nofollow" target="_blank">meme</a> and his wonderful game <a href="http://wiz.zone" rel="nofollow" target="_blank">Wiz.Zone</a>, I thought using the orb and including the flow field inside would look interesting, while reducing the number of particles needed, I’m definitely pleased with the result.</p>
<img src="/_astro/orb-meme.cbb25daf.jpg" alt="Meme with two images, one says 'Our hands look like this..' representing heavily used keyboards and tobaco stained fingers, the other says 'So yours can look like this' with a picture of a hand with a glowing orb in the middle." width="1920" height="1920" style="width:27rem;display:flex;margin:0 auto;max-width:100%;left:0"/>
<p>I also decided to use a photo of my hand and use a dither filter using <a href="https://doodad.dev/dither-me-this" rel="nofollow" target="_blank">https://doodad.dev/dither-me-this</a>, personally it would look better with more contrast, but for an initial version it looks good enough, the hand it’s also divided in two different layers to make give the impression to be between the fingers.</p>
<h2 id="final-touches">Final touches<a aria-hidden="true" tabindex="-1" href="#final-touches"><span class="icon icon-link"></span></a></h2>
<p>I added some other changes like turning the direction of the flow according to the mouse position, and some minor change that probably nobody will ever notice, to do the same using the device orientation on phones.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">    window.</span><span style="color:#B392F0">addEventListener</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;deviceorientation&quot;</span><span style="color:#E1E4E8">, (</span><span style="color:#FFAB70">event</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {   </span></span>
<span class="line"><span style="color:#E1E4E8">        leftToRight </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> event.gamma;</span></span>
<span class="line"><span style="color:#E1E4E8">    }, </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>There are some other minor changes like stacked shadows to make it look more like glass and a shine in the background.</p>
<p>As an Easter egg, I also made it show some basic animation if JavaScript it’s disabled.</p>
<video width="400" autoplay loop style="display:flex;margin:0 auto"><source src="/_astro/orb-no-js.2d26bb77.webm" type="video/webm"/></video><!-- <Share title={title} description={description} url={href} /> --><details class="details"><summary>Metadata</summary><div id="metadata"><div class="metaSection"><span class="title">Published</span><time datetime="2023-08-19T00:00:00.000Z">Aug 19, 2023</time></div><div class="metaSection"><span class="title">Length</span><span>3 min read (446 words)</span></div><div class="metaSection"><span class="title">License</span><a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div><div class="metaSection"><span class="title">Tags</span><div class="tags"><a href="/tags/javascript">#javascript</a><a href="/tags/logo">#logo</a><a href="/tags/orb">#orb</a><a href="/tags/p5">#p5</a><a href="/tags/animation">#animation</a><a href="/tags/flow field">#flow field</a><a href="/tags/chromatic-aberration">#chromatic-aberration</a><a href="/tags/noise">#noise</a><a href="/tags/dither">#dither</a></div></div><div class="centered"><a class="correctLink" target="_blank" href="https://github.com/dobladov/astro-blog/edit/main/src/content/blog/making-the-orb/index.mdx">Did I make a mistake? Please consider sending a pull request</a></div><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Making the Orb","editor":"Daniel Doblado","genre":"javascript logo orb p5 animation flow field chromatic-aberration noise dither","keywords":"javascript logo orb p5 animation flow field chromatic-aberration noise dither","wordcount":446,"url":"https://dobla.do/blog/making-the-orb/","datePublished":"2023-08-19T00:00:00.000Z","dateCreated":"2023-08-19T00:00:00.000Z","description":"How the interactive orb in my site was made.","author":{"@type":"Person","name":"Daniel Doblado"}}</script></div></details><div class="progress"></div></article></section></main><footer data-astro-cid-sz7xmlte><a target="_blank" href="https://codepen.io/dobladov" data-astro-cid-sz7xmlte>CodePen</a><a target="_blank" href="mailto:danieldoblado@gmail.com" data-astro-cid-sz7xmlte>E-Mail</a><a target="_blank" href="https://github.com/dobladov" data-astro-cid-sz7xmlte>GitHub</a><a target="_blank" href="https://stackoverflow.com/users/2498992/daniel-doblado" data-astro-cid-sz7xmlte>StackOverflow</a><a target="_blank" href="https://mastodon.social/@danieldobla" data-astro-cid-sz7xmlte>Mastodon</a><a target="_blank" href="https://x.com/danieldobla" data-astro-cid-sz7xmlte>𝕏</a><div class="pattern bottom" data-astro-cid-pj7xj6mf></div></footer></body></html>